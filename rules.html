<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Student Robotics Rules 2022</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://www.studentrobotics.org/style/css/main.css">
    <link rel="shortcut icon" href="https://www.studentrobotics.org/style/images/favicon.ico">
    <link rel="stylesheet" href="./styles.css">
  </head>
  <body>
    <header>
      <div class="fixed-width">
        <a class="anchor" id="top"></a>
        <h1 id="header">
          <a href="https://www.studentrobotics.org/">
            <img width="333" src="https://studentrobotics.org/style/assets/logo-text-white.svg">
          </a>
          <a href="#top">Stealing Game TODO</a>
        </h1>
      </div>
    </header>
    <section>
      <div class="fixed-width">
        <h2>Table of Contents</h2>
        <ol>
          <li><a href="#game-rules">Game Rules</a></li>
          <li><a href="#regulations">Regulations</a></li>
          <li><a href="#specifications">Specifications</a></li>
          <li><a href="#comp-structure">Competition Structure</a></li>
          <li><a href="#challenges">Challenges</a></li>
          <li><a href="#awards">Awards</a></li>
          <li><a href="#revisions">Revisions</a></li>
        </ol>
      </div>
    </section>
    <section>
      <div class="fixed-width">
        <h2><a class="anchor" id="game-rules"></a>Game Rules</h2>
        <ol>
          <li>
            The objective of the game, called <strong>Stealing Game TODO</strong>, is to capture tokens from your opponents.
          <li>
            Before a match begins, participating teams must:
            <ul>
              <li>Present their robot in the staging area, adjacent to the arena, before the scheduled close of staging time. The staging area will be clearly marked on the day.
              <li>Attach a <a href="#flag-specification">robot flag</a>. Robot flags will be provided by Student Robotics officials in the staging area.
              <li>Place their robot in the starting area that they are assigned. The robot must be placed such that it is entirely within this starting area, with no parts overhanging its boundary. Its orientation does not matter.
              <li>Vacate the arena 40 seconds before the scheduled start time. During the 40 second period prior to the start of the match there must be no interaction with the robot.
              <li>Follow the directions of the match officials.
            </ul>
            Teams that fail to comply with these rules–such as by arriving late–may forfeit the match, at the discretion of the judge.
          <li>
            The game is played between <strong>four</strong> robots.
          <li>
            Each match lasts for <strong>180</strong> seconds.
          <li>
            Robots will be started by, or at the direction of, match officials.
          <li>
            There are 20 Bronze tokens, 12 Silver tokens and 4 Gold tokens in the arena at the start of the match.
          <li>
            Tokens in a scoring zone are worth:
            <ul>
              <li>Bronze tokens: 3 points,
              <li>Silver tokens: 12 points,
              <li>Gold tokens: 30 points.
            </ul>
          <li>
            The value of tokens in a robot are divided by 3.
          <li>
            A token is "in" a scoring zone if any of the vertical projection of the token onto the arena floor is within the zone.
          <li>
            A token is "in" a robot if TODO.
            Tokens in robots are not in any scoring zone.
          <li>
            There is a bonus point available for a robot fully leaving its scoring zone for the first time in a game.
          <li>
            Robots start inside their scoring zone.
          <li>
            At the end of the match the robot with the most points wins.
          <li>
            The arena is a square of the design specified in
            <a href="#specifications">the specifications section</a>.
          <li>
            A match may be terminated prematurely if all teams participating in that match state to the match officials that they are happy for the game to end.
        </ol>
      </div>
    </section>
    <section>
      <div class="fixed-width">
        <h2><a class="anchor" id="regulations"></a>Regulations</h2>
        <ol>
          <li>
            All robots must be safe.
            <ul>
              <li>It must not be possible to directly or indirectly injure oneself on the robot. Exposed sharp edges and fast moving parts, for example, may be tested using a Frankfurter sausage to simulate a finger. Teams are encouraged to discuss any safety concerns about their robot on the Student Robotics Discord.
              <li>The robot’s power switch must be on the outside top of the robot and easily accessible at all times – including throughout the game. This is for everyone’s safety, especially your robot’s
              <li>The lithium-ion polymer batteries provided in the kit must be shielded from mechanical and thermal harm. This includes mechanical protection from accidental impact with other robots. Teams found to be in violation of this rule will have their batteries confiscated until they have demonstrably rectified the identified issues.
              <li>Only the power board may be connected directly to the battery.
              <li>Robots must follow the <a href="https://studentrobotics.org/docs/kit/safety-regulations">safety regulations</a>.
            </ul>
          <li>
            The Judge’s decision is final.
          <li>
            Any assistance from Student Robotics volunteers is provided without guarantees.
          <li>
            Student Robotics reserves the right to examine teams’ robot software and hardware at any time.
          <li>
            Teams are expected to conduct themselves within the normal principles of good
            sporting conduct.
          <li>
            While accidental bumps and scrapes are inevitable, the sport is non-contact.
          <li>
            No remote control systems may be used.
          <li>
            Robots must pass an inspection by a Student Robotics Inspector before competing in a match. This inspector will check that the robot complies with the rules and regulations of this game, and is safe to compete. <strong>Robots that have not passed inspection will not be permitted to compete</strong>.
          <li>
            Robots must not intentionally damage anything – including tokens, the central plinth, the arena or other robots. At the discretion of the judge, teams who deliberately engage in collisions or take insufficient precautions against collisions may be penalised, including disqualification from rounds and deduction of league points.
          <li>
            All kit provided by Student Robotics remains the property of Student Robotics.
          <li>
            At the beginning of each match, robots must fit within a cube with 500mm internal sides. During a match, the robot may not extend further than 1000mm along the axes parallel to the floor.
          <li>
            During a match robots may deploy supporting equipment into the arena, as long as that equipment is clearly designed to be of direct benefit to the robot. Such equipment must not deliberately impede other robots and reasonable care must be taken to ensure that it does not become merely an obstacle to other robots.
          <li>
            All wires connected to the robot's ground (0V line) must be black. Black wires must not be used for anything else. It is strongly recommended that all wiring is neat and easily removable, as this will reduce the time required to debug problems on robots (teams may be asked to tidy their wiring before a Student Robotics volunteer will approach any issues with their robot).
          <li>
            All electronics must be securely fixed to the robot, and should also be easily removable.
          <li>
            If teams wish to use batteries other than the lithium-ion polymer batteries provided, then they must seek approval from Student Robotics through the Student Robotics Discord first. Additionally, if teams wish to add systems powered by separate batteries then they must seek approval through the same channel first, with the exception of video cameras. In general, teams are encouraged to power everything off the Student Robotics supplied battery through the power board.
          <li>
            Robots may not include radio transmitters or receivers. In exceptional circumstances, teams may request an exemption from this rule.
          <li>
            Robots must not have any devices designed for the sole purpose of producing audible noise, with the exception of the piezoelectric buzzer on the power board.
          <li>
            Robots must have a spare USB slot to be used by the competition USB provided by Student Robotics, which is inserted during staging. This slot will be in addition to the slot used for user’s robot code, and must be easily accessible. Robots without a competition USB may not enter a match.
          <li>
            All robots must have mountings for the removable robot flags provided by Student Robotics, as described in the <a href="#flag-specification">flag specification</a>. A mounting must firmly hold a flag in an upright position. Flags must be mounted on the top of the robot.
        </ol>
      </div>
    </section>
    <section>
      <div class="fixed-width">
        <h2><a class="anchor" id="specifications"></a>Specifications</h2>
        <h3><a class="anchor" id="marker-specification"></a>Markers</h3>
        <p>
          The arena is labelled with fiducial markers. Each marker pattern encodes a number. Each marker number is associated with a particular feature within the arena, and also has an associated size.
        </p>
        <table>
          <thead>
            <tr>
              <th>Item</th>
              <th>Marker Numbers</th>
              <th>Marker Size (mm)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Arena boundary</td>
              <td>0 - 27</td>
              <td>200</td>
            </tr>
            <tr>
              <td>Token marker</td>
              <td>28 - 100</td>
              <td>100</td>
            </tr>
          </tbody>
        </table>
        <p>
          Two sets of marker codes will be used: one for development purposes, and one for the competition itself. The competition set is only to be used inside the Student Robotics arena at the Student Robotics competition. This is so that people carrying markers past the arena do not confuse robots. The competition codes are 100 above the development codes. When run in competition mode, the software provided by Student Robotics will subtract 100 from the detected marker codes, as well as ignore the development codes. Markers outside of the ranges used in the game will also be ignored.
        </p>
        <img src="images/sidewall.svg" alt="Sidewall diagram" width="100%" height="auto">
        <p>
          The markers can be printed on a black-and-white printer. Marker designs can be downloaded from the documentation section of the Student Robotics website.
        </p>
        <p>
          Twenty eight arena wall markers are positioned around the perimeter of the arena with the marker codes incrementing in a clockwise fashion. The corners are counted in a clockwise fashion, with corner 0 being the corner closest to arena marker 0.
        </p>
        <img src="images/arena-markers.svg" alt="Diagram of arena markers" width="50%" height="auto">
        <h3><a class="anchor" id="arena-specification"></a>Arena</h3>
        <img src="images/arena.svg" alt="Arena diagram" width="100%" height="auto">
        <ol>
          <li>
            The above figure represents, to scale, a birds eye view of the arena. The arena is
            <strong>5.75m</strong> square.
          <li>
            The floor of the arena is covered with a closed-loop, short pile carpet.
          <li>
            The perimeter of the arena floor is delimited by the arena wall, which has a minimum height of 100mm.
          <li>
            Each wall of the arena features seven 200mm AprilTag markers.
          <li>
            Each robot will be assigned a corner at the start of every match to indicate its scoring zone.
          <li>
            Starting areas are 1000 ±20mm squares within their respective scoring zones and will be marked by tape.
          <li>
            The green boxes denote the robot start locations. Robots may start facing any direction.
          <li>
            In the centre of the arena is a square plinth with cruciform arms extending from the center of each side.
            The plinth is 75 ±10mm high.
            The square center of the plinth has side length 600 ±30mm.
            The arms of the plinth are 2000 ±50mm long and 50 ±5mm wide.
          <li>
            The top and sides of the plinth will be solid.
          <li>
            Student Robotics reserves the right to have match officials in the arena during games.
        </ol>
        <h3><a class="anchor" id="scoring-zone-specification"></a>Scoring Zones</h3>
        <ol>
          <li>
            The arena is equally divided in to four square scoring zones, each with side length 2875mm ±50mm.
          <li>
            The boundary between scoring zones will be marked by 48mm coloured tape.
            For scoring purposes the tape is considered "in" both zones that it separates.
        </ol>
        <h3><a class="anchor" id="flag-specification"></a>Robot flags</h3>
        <img src="images/robot-flag.svg" alt="Robot flag" width="40%" height="auto">
        <ol>
          <li>
            A "robot flag" is a removable identifier that will be attached to a robot throughout a match. It features identifying areas to allow spectators to easily associate a robot with its starting area. The markings in the identifying areas are intentionally not specified.
          <li>
            Flags are not counted when considering the starting size of the robot.
          <li>
            The identifying part of the robot flag must be visible when attached to the mount.
          <li>
            The mounting cylinder must be permanently affixed to the main chassis of a robot, and vertical when the robot is in its typical stopped position.
        </ol>
        <h3><a class="anchor" id="tokens-specification"></a>Tokens</h3>
        <ol>
          <li>
            Tokens are "single wall" cuboid cardboard boxes.
            Bronze and Silver tokens have side length of 110 ±10mm.
            Gold tokens have side length of 250 ±10mm.
          <li>
            Silver tokens are weighted such that their mass is 300 ±20g more than Bronze tokens.
            The center of mass of Silver tokens will not match their center of volume.
          <li>
            TODO: specify the mass of Bronze tokens?
            TODO: specify the relative mass of Gold tokens?
          <li>
            Tokens will be arranged as shown in the <a href="#arena-specification">arena specification</a>.
          <li>
            Tokens will have a 100mm AprilTag marker in the center of each face.
            The value of this marker will be the same for all tokens in the arena.
        </ol>
      </div>
    </section>
    <section>
      <div class="fixed-width">
        <h2><a class="anchor" id="comp-structure"></a>Competition Structure</h2>
        <p>
          The competition is structured in four phases:
            the <strong>challenges</strong>,
            the <strong>virtual league</strong>,
            the <strong>main league</strong>
            and the <strong>knockout</strong>.
        </p>
        <h3><a class="anchor" id="challenges-summary"></a>Challenges</h3>
        <ol>
          <li>
            There are three challenges which teams may optionally complete during the competition year in order to earn additional league points.
            The challenges may be approached in any order.
          <li>
            Teams which complete one of the challenges by 8pm GMT on January 7<sup>th</sup> 2023 will earn 8 league points.
          <li>
            Teams which complete a different challenge by 8pm GMT on February 4<sup>th</sup> 2023 will earn a separate 8 league points.
          <li>
            Submissions for each challenge may be made in person to a mentor, via video call or via video submissions Discord.
            TODO: have them ping @Challenges? Or post in a #challenges channel?
            Submissions in Discord must be tagged with <code>@Challenges</code>.
          <li>
            The challenges are specified in the <a href="#challenges">challenges section</a>.
        </ol>
        <h3><a class="anchor" id="virtual-league"></a>Virtual League</h3>
        <ol>
          <li>
            There will be a livestreamed virtual league one month before the in-person competition.
          <li>
            The virtual league will use the <a href="https://studentrobotics.org/docs/simulator/">Webots based simulator</a>.
          <li>
            During the virtual league, each robot will have four match appearances.
          <li>
            Code submissions will close at 8pm GMT on the Friday before the virtual league.
          <li>
            The matches played during the virtual league constitute the first matches of the league. As such, you will be awarded league points as outlined below.
        </ol>
        <h3><a class="anchor" id="matches"></a>Matches</h3>
        <ol>
          <li>
            The main league and the knockout will be played at the in-person competition event.
          <li>
            At the end of a game, league points will be awarded as follows. The team with the most
            game points will be awarded 8 points towards the competition league. The team with the
            second most will be awarded 6. The team with the third most will be awarded 4 points,
            and the team with the fewest game points will be awarded 2 points. Teams whose robot
            was not entered into the round, or who were disqualified from the round, will be awarded
            no points.
          <li>
            Tied robots will be awarded the average of the points that their combined positions would
            be awarded. Thus, three robots tied for first place would receive 6 points each (since this
            is (8 + 6 + 4) ÷ 3).
          <li>
            At the end of the leagues, positions in the leagues are used to seed a
            knockout. This will be used to determine the final 1<sup>st</sup>,
            2<sup>nd</sup> and 3<sup>rd</sup> awards.
          <li>
            In the event of a tie in a knockout match, the team that ranked highest in the league will
            go through.
        </ol>
      </div>
    </section>
    <section>
      <div class="fixed-width">
        <h2><a class="anchor" id="challenges"></a>Challenges</h2>
        <p>
          Throughout these challenges a "robot" need not be fully constructed,
          nor is it limited by the size limits which would apply in the
          competition arena. Robots may use whatever sensing mechanisms they
          like, as long as those mechanisms would be permitted in the
          competition arena.
        </p>
        <p>
          However robots must be <strong>safe</strong> (as specified in the
          <a href="#regulations">regulations</a>) when completing these challenges.
        </p>
        <h4><a class="anchor" id="movement-challenge"></a>Movement Challenge</h4>
        <ol>
          <li>
            Autonomously complete 3 continuous circuits of a triangular path,
            returning to its starting position to within 300mm.
          <li>
            The path must be a isosceles right-angled triangle with shorter side length 1500 ±200mm.
          <li>
            The direction of travel around the triangle and orientation of the robot are inconsequential.
        </ol>
        <h4><a class="anchor" id="sensor-challenge"></a>Sensor Challenge</h4>
        <ol>
          <li>
            Autonomously differentiate between any two of the three token types.
          <li>
            Indicate, using the LEDs on the Brain Board, they have detected:
            <ul>
              <li>a Bronze token by illuminating LED A,
              <li>a Silver token by illuminating LED B and
              <li>a Gold token by illuminating LED C.
            </ul>
            TODO: do we need this bit? Want to specify something about the
            output so we're not having to deal with loads of variations, but
            not sure if this scheme forces full differentiation (when we're
            only after X vs Y for this challenge).
          <li>
            The tokens may be placed manually into or onto the robot if desired.
        </ol>
        <h4><a class="anchor" id="vision-challenge"></a>Vision Challenge</h4>
        <ol>
          <li>
            Demonstrate, using the LEDs on the Brain Board, awareness of its position relative to three arena wall markers.
          <li>
            Facing the wall at a point 1m out from the wall and directly in
            front of the middle of the three markers, turn on the spot
            illuminating LEDs to indicate the orientation of the robot:
            <ul>
              <li>LED A in blue when more than 30° left from square on,
              <li>LED B in blue in the middle (60° arc) and
              <li>LED C in blue when more than 30° right from square on.
            </ul>
          <li>
            Facing the wall at a point 1m out from the wall and directly in
            front of the middle of the three markers, move left and right
            illuminating LEDs to indicate the position of the robot relative
            to a line through the middle marker and orthogonal to the wall:
            <ul>
              <li>LED A in red when more than 200mm left of the line
              <li>LED B in blue within 200mm of the line
              <li>LED C in red when more than 200mm right of the line
            </ul>
          <li>
            The robot may move autonomously or may be moved manually to complete this challenge.
            <br>
            <strong>Note:</strong> if moving the robot manually then the
            Ruggeduino, Motor and Servo Boards must be disconnected from the
            Power Board as well as any mechanical components secured for the
            duration of the demonstration.
        </ol>
      </div>
    </section>
    <section>
      <div class="fixed-width">
        <h2><a class="anchor" id="awards"></a>Awards</h2>
        <h4>Main Competition Awards</h4>
        <p>
          Awarded to the teams that place highest in the knockout at the end of the
          competition. The teams in 1<sup>st</sup>, 2<sup>nd</sup> and 3<sup>rd</sup>
          place receive awards.
        </p>
        <h4>Rookie Award</h4>
        <p>
          Awarded to the team, competing in Student Robotics for the first time, which
          places highest in the league.
        </p>
        <h4>Committee Award</h4>
        <p>
          Awarded to the team that displays the most extraordinary ingenuity in the
          design of their robot. It is not awarded for complexity of design, but
          rather elegance, simplicity, and good engineering.
        </p>
        <h4>Online Presence</h4>
        <p>
          Awarded to the team judged to have the best online presence. The hashtag
          for the competition is <tt>#srobo2022</tt>. Teams are reminded not to post
          private information about their members or others.
        </p>
        <h4>Challenges</h4>
        <p>
          The first team to complete all three challenges will receive an edible prize at the final competition.
        </p>
        <h4>Robot and Team Image</h4>
        <p>
          The team that presents their robot and themselves in what is judged to be the most outstanding way will receive an edible prize at the final competition.
        </p>
      </div>
    </section>
    <section>
      <div class="fixed-width">
        <h2><a class="anchor" id="revisions"></a>Revisions</h2>
        <p>From time to time Student Robotics may amend the rulebook. When this happens, this document will be updated.</p>
        <ol style="display: none;">
          <li>
            ...
        </ol>
      </div>
    </section>
    <footer class="site-footer">
      <div class="row fixed-width">
        <div class="column d-6-12">
          <p>© Student Robotics 2022</p>
          <p>Registered charity in England and Wales, number 1163168</p>
        </div>
        <div class="column text-right d-6-12">
        </div>
      </div>
    </footer>
  </body>
</html>
